import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,e,o as n}from"./app-BBh0_QkO.js";const t="/assets/Windows%E8%AE%BF%E9%97%AE-CFXFen50.png",h="/assets/Windows%E6%8C%82%E8%BD%BD-BseaG5LI.png",l="/assets/iPad%E6%8C%82%E8%BD%BD-Dj7jv0W7.png",r={};function d(p,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="一种基于samba协议在树莓派上实现的小巧nas" tabindex="-1"><a class="header-anchor" href="#一种基于samba协议在树莓派上实现的小巧nas"><span>一种基于SAMBA协议在树莓派上实现的小巧NAS</span></a></h1><p>在Ubuntu上使用Samba搭建个人NAS（网络附加存储），可以共享文件并在网络上的不同设备之间轻松访问</p><h2 id="一、-安装samba" tabindex="-1"><a class="header-anchor" href="#一、-安装samba"><span>一、 安装Samba</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> samba</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="二、-创建共享文件夹" tabindex="-1"><a class="header-anchor" href="#二、-创建共享文件夹"><span>二、 创建共享文件夹</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /srv/samba/share</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="三、-配置samba" tabindex="-1"><a class="header-anchor" href="#三、-配置samba"><span>三、 配置Samba</span></a></h2><p>编辑Samba配置文件 /etc/samba/smb.conf：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nano</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/samba/smb.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[Share] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#记住这个名字，这是连接时的文件夹地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    path</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /srv/samba/share</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    browsable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    writable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yes</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    guest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ok</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    read</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> only</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、-设置samba用户" tabindex="-1"><a class="header-anchor" href="#四、-设置samba用户"><span>四、 设置Samba用户</span></a></h2><p>如果需要用户认证，请创建Samba用户：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> smbpasswd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your_username</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="五、-重启samba服务" tabindex="-1"><a class="header-anchor" href="#五、-重启samba服务"><span>五、 重启Samba服务</span></a></h2><p>保存配置文件后，重启Samba服务以应用更改：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> smbd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmbd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、-访问共享" tabindex="-1"><a class="header-anchor" href="#六、-访问共享"><span>六、 访问共享</span></a></h2><h3 id="_1-华为手机访问" tabindex="-1"><a class="header-anchor" href="#_1-华为手机访问"><span>1. 华为手机访问</span></a></h3><p>在【文件管理-&gt;浏览-&gt;网上邻居】中点击扫描到的设备，输入用户名密码即可访问</p><h3 id="_2-windows访问" tabindex="-1"><a class="header-anchor" href="#_2-windows访问"><span>2. Windows访问</span></a></h3><p>资源管理器输入下方地址</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">\\\\samba_ip\\Share</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> #Share是smb.conf文件中配置的名称</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>弹窗输入用户名密码即可访问</p><figure><img src="`+t+'" alt="Windows访问" tabindex="0" loading="lazy"><figcaption>Windows访问</figcaption></figure><h3 id="_3-windows挂载" tabindex="-1"><a class="header-anchor" href="#_3-windows挂载"><span>3. Windows挂载</span></a></h3><p>在【此电脑-&gt;映射网络驱动器】中访问</p><figure><img src="'+h+'" alt="Windows挂载" tabindex="0" loading="lazy"><figcaption>Windows挂载</figcaption></figure><h3 id="_4-ipad挂载" tabindex="-1"><a class="header-anchor" href="#_4-ipad挂载"><span>4. iPad挂载</span></a></h3><p>【文件-&gt;连接到服务器】，输入smb://samba_ip/Share，填好用户密码即可</p><figure><img src="'+l+`" alt="iPad挂载" tabindex="0" loading="lazy"><figcaption>iPad挂载</figcaption></figure><h2 id="七、-troubleshoot" tabindex="-1"><a class="header-anchor" href="#七、-troubleshoot"><span>七、 Troubleshoot</span></a></h2><p>在iPad OS上文件App访问samba文件全都是只读的情况，需要在smb.conf的[global]这个配置块下增加如下配置即可：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[global]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">   vfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> objects</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> streams_xattr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,33)])])}const c=i(r,[["render",d]]),b=JSON.parse('{"path":"/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/RaspberryPi%20Nas.html","title":"基于树莓派的小巧NAS实现","lang":"zh-CN","frontmatter":{"title":"基于树莓派的小巧NAS实现","icon":"fa-brands:raspberry-pi","date":"2024-07-16T00:00:00.000Z","order":1,"category":["DIY"],"tag":["NAS","RaspberryPi"],"description":"一种基于SAMBA协议在树莓派上实现的小巧NAS 在Ubuntu上使用Samba搭建个人NAS（网络附加存储），可以共享文件并在网络上的不同设备之间轻松访问 一、 安装Samba 二、 创建共享文件夹 三、 配置Samba 编辑Samba配置文件 /etc/samba/smb.conf： 四、 设置Samba用户 如果需要用户认证，请创建Samba用户...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"基于树莓派的小巧NAS实现\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-07-16T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-04T15:29:28.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"QSTX\\",\\"url\\":\\"https://www.github.com/qstx\\"}]}"],["meta",{"property":"og:url","content":"https://qstx.github.io/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/RaspberryPi%20Nas.html"}],["meta",{"property":"og:site_name","content":"且试天下"}],["meta",{"property":"og:title","content":"基于树莓派的小巧NAS实现"}],["meta",{"property":"og:description","content":"一种基于SAMBA协议在树莓派上实现的小巧NAS 在Ubuntu上使用Samba搭建个人NAS（网络附加存储），可以共享文件并在网络上的不同设备之间轻松访问 一、 安装Samba 二、 创建共享文件夹 三、 配置Samba 编辑Samba配置文件 /etc/samba/smb.conf： 四、 设置Samba用户 如果需要用户认证，请创建Samba用户..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-04T15:29:28.000Z"}],["meta",{"property":"article:tag","content":"RaspberryPi"}],["meta",{"property":"article:tag","content":"NAS"}],["meta",{"property":"article:published_time","content":"2024-07-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-04T15:29:28.000Z"}]]},"git":{"createdTime":1722176117000,"updatedTime":1746372568000,"contributors":[{"name":"qstx","username":"qstx","email":"2031074519@qq.com","commits":5,"url":"https://github.com/qstx"}]},"readingTime":{"minutes":1.35,"words":406},"filePathRelative":"极客小屋/NAS/RaspberryPi Nas.md","excerpt":"\\n<p>在Ubuntu上使用Samba搭建个人NAS（网络附加存储），可以共享文件并在网络上的不同设备之间轻松访问</p>\\n<h2>一、 安装Samba</h2>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> apt</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> install</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> samba</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{c as comp,b as data};
