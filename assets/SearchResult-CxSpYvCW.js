import{f as J,u as K,h as X,j as Z,t as EE,i as eE,k as U,l as g,m as E,p as BE,q as tE,w as aE,s as sE,R as L,v as lE,x as AE,y as rE,z as oE,A as iE,B as $,C as P,D as uE,E as nE,F as cE,G as dE,L as hE,H as vE,I as mE,J as FE,K as I,M as pE,N as D}from"./app-BHvnkQDQ.js";const yE=["/intro.html","/","/posts/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/","/posts/%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%92%8C%E7%BB%9F%E8%AE%A1.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84%E5%87%86%E5%88%99%E2%80%94%E2%80%94%E4%B8%89%E4%BA%94%E6%B3%95%E5%88%99.html","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Python/Python%E4%B8%AD%E4%BA%94%E4%B8%AA%E5%BF%85%E9%A1%BB%E4%BC%9A%E7%94%A8%E7%9A%84f-string%E6%8A%80%E5%B7%A7.html","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Python/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E5%9F%BA%E4%BA%8Econda%E7%9A%84python%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/Csv2Fbx/Csv2Fbx.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/RenderDoc/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/RenderDoc/Steam%E6%B8%B8%E6%88%8F%E6%88%AA%E5%B8%A7.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Git/Git.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Git/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/FlowMap.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/RaspberryPi%20Nas.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Git%20Server.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Ubuntu%20Server%E5%AE%89%E8%A3%85VPN.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Ubuntu%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/AABB%E6%B1%82%E4%BA%A4%E7%AE%97%E6%B3%95/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/AABB%E6%B1%82%E4%BA%A4%E7%AE%97%E6%B3%95/%E7%BA%BF%E6%AE%B5%E4%B8%8EAABB%E6%B1%82%E4%BA%A4.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/A%20star%E7%AE%97%E6%B3%95.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E8%B7%B3%E7%82%B9%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/WalleBot/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/WalleBot/WalleBot.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/%E9%BD%BF%E8%BD%AE%E5%BB%BA%E6%A8%A1.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/vuepress%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E9%94%81/C__%E9%94%81%E7%9A%84%E5%AE%9E%E7%8E%B0.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/%E5%AE%89%E5%8D%93%E5%B9%B3%E5%8F%B0/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%B0%83%E8%AF%95.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/%E8%87%AA%E5%AE%9A%E4%B9%89RendererFeature/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/%E8%87%AA%E5%AE%9A%E4%B9%89RendererFeature/%E5%9F%BA%E4%BA%8ECompute%20Shader%E7%9A%84%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A%E5%90%8E%E5%A4%84%E7%90%86RendererFeature%E5%AE%9E%E7%8E%B0.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB.html","/404.html","/posts/%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90/","/posts/Cpp%E7%BB%83%E7%BA%A7/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/Csv2Fbx/","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E9%94%81/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/%E5%AE%89%E5%8D%93%E5%B9%B3%E5%8F%B0/","/category/","/category/%E5%88%86%E4%BA%AB/","/category/others/","/category/program/","/category/python/","/category/render/","/category/git/","/category/diy/","/category/gamedev/","/category/unity/","/tag/","/tag/tools/","/tag/c__/","/tag/%E5%86%85%E5%AD%98/","/tag/%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84/","/tag/python/","/tag/conda/","/tag/renderdoc/","/tag/render/","/tag/fbx/","/tag/image-compression/","/tag/git/","/tag/flowmap/","/tag/color-space/","/tag/nas/","/tag/raspberrypi/","/tag/ubuntu/","/tag/gamedev/","/tag/graphics/","/tag/stm32/","/tag/%E5%B5%8C%E5%85%A5%E5%BC%8F/","/tag/ros2/","/tag/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/","/tag/solidworks/","/tag/vuepress/","/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/tag/%E9%94%81/","/tag/compute-shader/","/tag/renderer-feature/","/tag/unity-tools/","/article/","/star/","/timeline/"],CE="SLIMSEARCH_QUERY_HISTORY",m=I(CE,[]),gE=()=>{const{queryHistoryCount:a}=D;return{enabled:a>0,queryHistories:m,addQueryHistory:r=>{m.value=Array.from(new Set([r,...m.value.slice(0,a-1)]))},removeQueryHistory:r=>{m.value=[...m.value.slice(0,r),...m.value.slice(r+1)]}}},k=a=>yE[a.id]+("anchor"in a?`#${a.anchor}`:""),DE="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:_}=D,F=I(DE,[]),bE=()=>({enabled:_>0,resultHistories:F,addResultHistory:A=>{{const r={link:k(A),display:A.display};"header"in A&&(r.header=A.header),F.value=[r,...F.value.slice(0,_-1)]}},removeResultHistory:A=>{F.value=[...F.value.slice(0,A),...F.value.slice(A+1)]}}),fE=a=>{const{page:A,routeLocale:r}=uE(),b=nE(),s=U(0),p=g(()=>s.value>0),u=cE([]);return dE(()=>{const{search:f,terminate:d}=hE(),y=mE(h=>{const{resultsFilter:H=t=>t,querySplitter:v,suggestionsFilter:w,...l}=b.value;h?(s.value+=1,f(h,r.value,l).then(t=>H(t,h,r.value,A.value)).then(t=>{s.value-=1,u.value=t}).catch(t=>{console.warn(t),s.value-=1,s.value||(u.value=[])})):u.value=[]},D.searchDelay-D.suggestDelay,{maxWait:5e3});vE([a,r],([h])=>y(h.join(" "))),FE(()=>{d()})}),{isSearching:p,results:u}};var RE=J({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:A}){const r=tE(),b=K(),s=X(Z),{addQueryHistory:p,queryHistories:u,removeQueryHistory:f}=gE(),{resultHistories:d,addResultHistory:y,removeResultHistory:h}=bE(),H=EE(a,"queries"),{results:v,isSearching:w}=fE(H),l=eE({isQuery:!0,index:0}),t=U(0),n=U(0),Q=g(()=>u.value.length>0||d.value.length>0),R=g(()=>v.value.length>0),S=g(()=>v.value[t.value]||null),M=()=>{const{isQuery:e,index:B}=l;B===0?(l.isQuery=!e,l.index=e?d.value.length-1:u.value.length-1):l.index=B-1},T=()=>{const{isQuery:e,index:B}=l;B===(e?u.value.length-1:d.value.length-1)?(l.isQuery=!e,l.index=0):l.index=B+1},G=()=>{t.value=t.value>0?t.value-1:v.value.length-1,n.value=S.value.contents.length-1},N=()=>{t.value=t.value<v.value.length-1?t.value+1:0,n.value=0},j=()=>{n.value<S.value.contents.length-1?n.value+=1:N()},W=()=>{n.value>0?n.value-=1:G()},x=e=>e.map(B=>pE(B)?B:E(B[0],B[1])),O=e=>{if(e.type==="customField"){const B=oE[e.index]||"$content",[c,o=""]=iE(B)?B[b.value].split("$content"):B.split("$content");return e.display.map(i=>E("div",x([c,...i,o])))}return e.display.map(B=>E("div",x(B)))},C=()=>{t.value=0,n.value=0,A("updateQuery",""),A("close")},Y=()=>E("div",{class:"slimsearch-records"},E("div",{class:"slimsearch-record"},[E("div",{class:"slimsearch-record-title"},s.value.queryHistory),E("ul",{class:"slimsearch-record-contents",role:"listbox"},u.value.map((e,B)=>{const c=l.isQuery&&l.index===B;return E("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c,onClick:()=>{A("updateQuery",e)}},E("div",[E($,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},e),E("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:P,onClick:o=>{o.preventDefault(),o.stopPropagation(),f(B)}})]))}))])),V=()=>E("ul",{class:"slimsearch-records"},E("li",{class:"slimsearch-record"},[E("div",{class:"slimsearch-record-title"},s.value.resultHistory),E("ul",{class:"slimsearch-record-contents",role:"listbox"},d.value.map((e,B)=>{const c=!l.isQuery&&l.index===B;return E("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c},E(L,{to:e.link,onClick:()=>{C()}},()=>[E($,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},[e.header?E("div",{class:"slimsearch-record-content-header"},e.header):null,E("div",e.display.map(o=>x(o)).flat())]),E("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:P,onClick:o=>{o.preventDefault(),o.stopPropagation(),h(B)}})]))}))]));return BE("keydown",e=>{if(a.isFocusing){if(R.value){if(e.key==="ArrowUp")W();else if(e.key==="ArrowDown")j();else if(e.key==="Enter"){const B=S.value.contents[n.value];p(a.queries.join(" ")),y(B),r.push(k(B)),C()}}else if(e.key==="ArrowUp")M();else if(e.key==="ArrowDown")T();else if(e.key==="Enter"){const{index:B}=l;l.isQuery?(e.preventDefault(),A("updateQuery",u.value[B])):(r.push(d.value[B].link),C())}}}),aE([t,n],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>E("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:a.queries.length?!R.value:!Q.value}]},a.queries.length?w.value?E(sE,{hint:s.value.searching}):R.value?E("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},v.value.map(({title:e,contents:B},c)=>{const o=t.value===c;return E("div",{class:["slimsearch-record",{active:o}],role:"group","aria-selected":o},[E("div",{class:"slimsearch-record-title"},e||s.value.defaultTitle),E("ul",{class:"slimsearch-record-contents"},B.map((i,z)=>{const q=o&&n.value===z;return E("li",{class:["slimsearch-record-matches",{active:q}],role:"option","aria-selected":q},E(L,{to:k(i),onClick:()=>{p(a.queries.join(" ")),y(i),C()}},()=>[i.type==="text"?null:E(i.type==="title"?lE:i.type==="heading"?AE:rE,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},[i.type==="text"&&i.header?E("div",{class:"slimsearch-record-content-header"},i.header):null,E("div",O(i))])]))}))])})):s.value.emptyResult:Q.value?[Y(),V()]:s.value.emptyHistory)}});export{RE as default};
