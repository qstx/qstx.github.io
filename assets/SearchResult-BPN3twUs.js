import{h as J,u as K,i as X,j as Z,t as EE,k as eE,l as S,m as g,p as E,q as BE,s as tE,w as aE,v as sE,R as q,x as lE,y as AE,z as rE,A as iE,B as oE,C as L,D as $,E as nE,F as uE,G as cE,H as FE,L as hE,I as dE,J as vE,K as mE,M as P,N as yE,O as D}from"./app-DE85l_tl.js";const pE=["/intro.html","/","/posts/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%92%8C%E7%BB%9F%E8%AE%A1.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84%E5%87%86%E5%88%99%E2%80%94%E2%80%94%E4%B8%89%E4%BA%94%E6%B3%95%E5%88%99.html","/posts/%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90.html","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Python/Python%E4%B8%AD%E4%BA%94%E4%B8%AA%E5%BF%85%E9%A1%BB%E4%BC%9A%E7%94%A8%E7%9A%84f-string%E6%8A%80%E5%B7%A7.html","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/Python/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/%E5%9F%BA%E4%BA%8Econda%E7%9A%84python%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/Csv2Fbx/Csv2Fbx.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/RenderDoc/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9/%E5%9B%BE%E5%83%8F%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/FlowMap.html","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E7%BB%8F%E5%85%B8%E7%AE%97%E6%B3%95/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4/%E8%89%B2%E5%BD%A9%E7%A9%BA%E9%97%B4.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Git/Git.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Git/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Git%20Server.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Ubuntu%20Server%E5%AE%89%E8%A3%85VPN.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/Ubuntu/Ubuntu%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/RaspberryPi%20Nas.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/NAS/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/WalleBot/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/WalleBot/WalleBot.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/%E9%BD%BF%E8%BD%AE%E5%BB%BA%E6%A8%A1.html","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/","/%E6%9E%81%E5%AE%A2%E5%B0%8F%E5%B1%8B/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/STM32%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/AABB%E6%B1%82%E4%BA%A4%E7%AE%97%E6%B3%95/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/AABB%E6%B1%82%E4%BA%A4%E7%AE%97%E6%B3%95/%E7%BA%BF%E6%AE%B5%E4%B8%8EAABB%E6%B1%82%E4%BA%A4.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/C__%E5%BF%83%E5%BE%97/C__%E5%8C%BF%E5%90%8D%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%85%B7%E5%90%8D%E5%AF%B9%E8%B1%A1.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/C__%E5%BF%83%E5%BE%97/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/A%20star%E7%AE%97%E6%B3%95.html","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/","/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/%E8%B7%AF%E5%BE%84%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/%E8%B7%B3%E7%82%B9%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%20Hub%E8%AE%BE%E7%BD%AE%E4%BB%A3%E7%90%86.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html","/posts/Cpp%E7%BB%83%E7%BA%A7/%E9%94%81/C__%E9%94%81%E7%9A%84%E5%AE%9E%E7%8E%B0.html","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/vuepress%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%8F%92%E4%BB%B6/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%8F%92%E4%BB%B6/Unity%E5%AF%BC%E5%85%A5RenderDoc%20Mesh.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91%E5%B7%A5%E5%85%B7%E6%B1%87%E6%80%BB.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/Unity%E6%B8%B8%E6%88%8F%E9%80%86%E5%90%91/%E7%8C%9B%E5%85%BD%E6%B4%BE%E5%AF%B9%E6%95%88%E6%9E%9C%E5%A4%8D%E5%88%BB.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/%E8%87%AA%E5%AE%9A%E4%B9%89RendererFeature/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unity/%E8%87%AA%E5%AE%9A%E4%B9%89RendererFeature/%E5%9F%BA%E4%BA%8ECompute%20Shader%E7%9A%84%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A.html","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/%E5%AE%89%E5%8D%93%E5%B9%B3%E5%8F%B0/","/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/Unreal/%E5%AE%89%E5%8D%93%E5%B9%B3%E5%8F%B0/%E5%AE%89%E5%8D%93%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%B0%83%E8%AF%95.html","/404.html","/posts/Cpp%E7%BB%83%E7%BA%A7/","/posts/%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90/","/%E6%8A%80%E6%9C%AF%E7%BE%8E%E6%9C%AF/Csv2Fbx/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/posts/Cpp%E7%BB%83%E7%BA%A7/%E9%94%81/","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/","/posts/%E7%BD%91%E9%A1%B5%E6%90%AD%E5%BB%BA/","/category/","/category/%E5%88%86%E4%BA%AB/","/category/program/","/category/others/","/category/python/","/category/render/","/category/git/","/category/diy/","/category/gamedev/","/category/c__/","/category/unity/","/tag/","/tag/c__/","/tag/%E5%86%85%E5%AD%98/","/tag/%E6%9E%84%E9%80%A0%E4%B8%8E%E6%9E%90%E6%9E%84/","/tag/tools/","/tag/python/","/tag/conda/","/tag/renderdoc/","/tag/render/","/tag/fbx/","/tag/image-compression/","/tag/flowmap/","/tag/color-space/","/tag/git/","/tag/nas/","/tag/raspberrypi/","/tag/ubuntu/","/tag/stm32/","/tag/%E5%B5%8C%E5%85%A5%E5%BC%8F/","/tag/ros2/","/tag/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1/","/tag/solidworks/","/tag/gamedev/","/tag/graphics/","/tag/network-proxy/","/tag/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/","/tag/%E9%94%81/","/tag/vuepress/","/tag/unity-plugins/","/tag/unity-tools/","/tag/%E7%8C%9B%E5%85%BD%E6%B4%BE%E5%AF%B9/","/tag/%E6%AF%9B%E5%8F%91%E6%95%88%E6%9E%9C/","/tag/compute-shader/","/tag/renderer-feature/","/article/","/star/","/timeline/"],CE="SLIMSEARCH_QUERY_HISTORY",v=P(CE,[]),gE=()=>{const{queryHistoryCount:a}=D;return{enabled:a>0,queryHistories:v,addQueryHistory:r=>{v.value=Array.from(new Set([r,...v.value.slice(0,a-1)]))},removeQueryHistory:r=>{v.value=[...v.value.slice(0,r),...v.value.slice(r+1)]}}},k=a=>pE[a.id]+("anchor"in a?`#${a.anchor}`:""),DE="SLIMSEARCH_RESULT_HISTORY",{resultHistoryCount:M}=D,m=P(DE,[]),bE=()=>({enabled:M>0,resultHistories:m,addResultHistory:A=>{{const r={link:k(A),display:A.display};"header"in A&&(r.header=A.header),m.value=[r,...m.value.slice(0,M-1)]}},removeResultHistory:A=>{m.value=[...m.value.slice(0,A),...m.value.slice(A+1)]}}),UE=a=>{const{page:A,routeLocale:r}=nE(),b=uE(),s=S(0),y=g(()=>s.value>0),n=cE([]);return FE(()=>{const{search:U,terminate:F}=hE(),p=vE(h=>{const{resultsFilter:f=t=>t,querySplitter:d,suggestionsFilter:w,...l}=b.value;h?(s.value+=1,U(h,r.value,l).then(t=>f(t,h,r.value,A.value)).then(t=>{s.value-=1,n.value=t}).catch(t=>{console.warn(t),s.value-=1,s.value||(n.value=[])})):n.value=[]},D.searchDelay-D.suggestDelay,{maxWait:5e3});dE([a,r],([h])=>p(h.join(" "))),mE(()=>{F()})}),{isSearching:y,results:n}};var HE=J({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:A}){const r=tE(),b=K(),s=X(Z),{addQueryHistory:y,queryHistories:n,removeQueryHistory:U}=gE(),{resultHistories:F,addResultHistory:p,removeResultHistory:h}=bE(),f=EE(a,"queries"),{results:d,isSearching:w}=UE(f),l=eE({isQuery:!0,index:0}),t=S(0),u=S(0),Q=g(()=>n.value.length>0||F.value.length>0),H=g(()=>d.value.length>0),x=g(()=>d.value[t.value]||null),I=()=>{const{isQuery:e,index:B}=l;B===0?(l.isQuery=!e,l.index=e?F.value.length-1:n.value.length-1):l.index=B-1},T=()=>{const{isQuery:e,index:B}=l;B===(e?n.value.length-1:F.value.length-1)?(l.isQuery=!e,l.index=0):l.index=B+1},G=()=>{t.value=t.value>0?t.value-1:d.value.length-1,u.value=x.value.contents.length-1},N=()=>{t.value=t.value<d.value.length-1?t.value+1:0,u.value=0},j=()=>{u.value<x.value.contents.length-1?u.value+=1:N()},O=()=>{u.value>0?u.value-=1:G()},R=e=>e.map(B=>yE(B)?B:E(B[0],B[1])),W=e=>{if(e.type==="customField"){const B=iE[e.index]||"$content",[c,i=""]=oE(B)?B[b.value].split("$content"):B.split("$content");return e.display.map(o=>E("div",R([c,...o,i])))}return e.display.map(B=>E("div",R(B)))},C=()=>{t.value=0,u.value=0,A("updateQuery",""),A("close")},Y=()=>E("div",{class:"slimsearch-records"},E("div",{class:"slimsearch-record"},[E("div",{class:"slimsearch-record-title"},s.value.queryHistory),E("ul",{class:"slimsearch-record-contents",role:"listbox"},n.value.map((e,B)=>{const c=l.isQuery&&l.index===B;return E("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c,onClick:()=>{A("updateQuery",e)}},E("div",[E(L,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},e),E("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:$,onClick:i=>{i.preventDefault(),i.stopPropagation(),U(B)}})]))}))])),V=()=>E("ul",{class:"slimsearch-records"},E("li",{class:"slimsearch-record"},[E("div",{class:"slimsearch-record-title"},s.value.resultHistory),E("ul",{class:"slimsearch-record-contents",role:"listbox"},F.value.map((e,B)=>{const c=!l.isQuery&&l.index===B;return E("li",{class:["slimsearch-record-matches",{active:c}],role:"option","aria-selected":c},E(q,{to:e.link,onClick:()=>{C()}},()=>[E(L,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},[e.header?E("div",{class:"slimsearch-record-content-header"},e.header):null,E("div",e.display.map(i=>R(i)).flat())]),E("button",{type:"button",class:"slimsearch-remove-icon",title:s.value.remove,"aria-label":s.value.remove,innerHTML:$,onClick:i=>{i.preventDefault(),i.stopPropagation(),h(B)}})]))}))]));return BE("keydown",e=>{if(a.isFocusing){if(H.value){if(e.key==="ArrowUp")O();else if(e.key==="ArrowDown")j();else if(e.key==="Enter"){const B=x.value.contents[u.value];y(a.queries.join(" ")),p(B),r.push(k(B)),C()}}else if(e.key==="ArrowUp")I();else if(e.key==="ArrowDown")T();else if(e.key==="Enter"){const{index:B}=l;l.isQuery?(e.preventDefault(),A("updateQuery",n.value[B])):(r.push(F.value[B].link),C())}}}),aE([t,u],()=>{document.querySelector(".slimsearch-record.active .slimsearch-record-matches.active")?.scrollIntoView(!1)},{flush:"post"}),()=>E("div",{id:"slimsearch-results",class:["slimsearch-result-wrapper",{empty:a.queries.length?!H.value:!Q.value}]},a.queries.length?w.value?E(sE,{hint:s.value.searching}):H.value?E("div",{class:"slimsearch-records",role:"listbox","aria-labeledby":"slimsearch-label"},d.value.map(({title:e,contents:B},c)=>{const i=t.value===c;return E("div",{class:["slimsearch-record",{active:i}],role:"group","aria-selected":i},[E("div",{class:"slimsearch-record-title"},e||s.value.defaultTitle),E("ul",{class:"slimsearch-record-contents"},B.map((o,z)=>{const _=i&&u.value===z;return E("li",{class:["slimsearch-record-matches",{active:_}],role:"option","aria-selected":_},E(q,{to:k(o),onClick:()=>{y(a.queries.join(" ")),p(o),C()}},()=>[o.type==="text"?null:E(o.type==="title"?lE:o.type==="heading"?AE:rE,{class:"slimsearch-record-type"}),E("div",{class:"slimsearch-record-content"},[o.type==="text"&&o.header?E("div",{class:"slimsearch-record-content-header"},o.header):null,E("div",W(o))])]))}))])})):s.value.emptyResult:Q.value?[Y(),V()]:s.value.emptyHistory)}});export{HE as default};
